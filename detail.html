<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detail Project - Procurement System</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-inner">
      <a href="index.html" class="navbar-brand">üìã Procurement System</a>
      <ul class="navbar-nav">
        <li><a href="index.html">Dashboard</a></li>
        <li><a href="create.html">Buat Project</a></li>
        <li><a href="settings.html">‚öôÔ∏è</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="container">

    <!-- Breadcrumb -->
    <div class="breadcrumb">
      <a href="index.html">Dashboard</a> / Detail Project
    </div>

    <!-- Loading State -->
    <div id="loadingState" class="card">
      <div class="loading-state">
        <div class="loading-spinner"></div>
        <p class="loading-text">Memuat data project...</p>
      </div>
    </div>

    <!-- Error State -->
    <div id="errorState" class="card" style="display: none;">
      <div class="error-state">
        <div class="error-state-icon">‚ö†Ô∏è</div>
        <h3 class="error-state-title">Gagal Memuat Data</h3>
        <p class="error-state-text" id="errorMessage">Terjadi kesalahan</p>
        <a href="index.html" class="btn btn-secondary mt-3">Kembali ke Dashboard</a>
      </div>
    </div>

    <!-- Content Container -->
    <div id="contentContainer" style="display: none;">

      <!-- Page Header -->
      <div class="page-header">
        <div>
          <h1 class="page-title" id="pageTitle">üì¶ Detail Project</h1>
        </div>
        <a href="index.html" class="btn btn-secondary">‚Üê Kembali</a>
      </div>

      <!-- Project Info Card -->
      <div class="card">
        <h2 class="card-title">Informasi Project</h2>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Project ID</div>
            <div class="info-value" id="infoProjectId">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Nama Project</div>
            <div class="info-value" id="infoNamaProject">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Unit</div>
            <div class="info-value" id="infoUnit">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Status</div>
            <div class="info-value" id="infoStatus">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Tanggal Dibuat</div>
            <div class="info-value" id="infoCreatedAt">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Total Items</div>
            <div class="info-value" id="infoTotalItems">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Survey Selesai</div>
            <div class="info-value" id="infoSurveyDone">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Progress</div>
            <div class="info-value">
              <span id="infoProgress">-</span>
              <div class="progress">
                <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Items Card -->
      <div class="card">
        <h2 class="card-title">Daftar Item</h2>

        <!-- Add Item Form -->
        <div class="add-item-form" id="addItemForm">
          <h3 class="form-section-title">‚ûï Tambah Item Baru</h3>
          
          <div class="form-row">
            <div class="form-group form-group-flex">
              <label class="form-label" for="namaBarang">Nama Barang <span class="required">*</span></label>
              <input type="text" id="namaBarang" class="form-control" placeholder="Contoh: Kertas HVS A4">
            </div>
            <div class="form-group form-group-sm">
              <label class="form-label" for="volume">Volume <span class="required">*</span></label>
              <input type="number" id="volume" class="form-control" placeholder="10" min="1">
            </div>
            <div class="form-group form-group-sm">
              <label class="form-label" for="satuan">Satuan <span class="required">*</span></label>
              <input type="text" id="satuan" class="form-control" placeholder="rim">
            </div>
            <div class="form-group form-group-sm">
              <label class="form-label" for="hps">HPS (Rp)</label>
              <input type="number" id="hps" class="form-control" placeholder="50000" min="0">
            </div>
            <div class="form-group form-group-btn">
              <label class="form-label">&nbsp;</label>
              <button type="button" id="addItemBtn" class="btn btn-primary">+ Tambah</button>
            </div>
          </div>
          
          <div id="itemAlert" class="alert" style="display: none;"></div>
        </div>

        <!-- Empty State -->
        <div id="itemsEmptyState" class="empty-state" style="display: none;">
          <div class="empty-state-icon">üì≠</div>
          <h3 class="empty-state-title">Belum ada item</h3>
          <p class="empty-state-text">Tambahkan item pengadaan menggunakan form di atas</p>
        </div>

        <!-- Items Table -->
        <div id="itemsTableContainer" class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>No</th>
                <th>Item ID</th>
                <th>Nama Barang</th>
                <th class="text-right">Volume</th>
                <th>Satuan</th>
                <th>Status</th>
                <th class="text-right">HPS</th>
                <th class="text-center">Aksi</th>
              </tr>
            </thead>
            <tbody id="itemsTableBody"></tbody>
          </table>
        </div>

      </div>

    </div>

  </div>

  <!-- Scripts -->
  <script src="js/config.js"></script>

  <!-- Additional Styles for Item Form -->
  <style>
    .add-item-form {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    
    .form-section-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
      color: #333;
    }
    
    .form-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: flex-end;
    }
    
    .form-group-flex {
      flex: 2;
      min-width: 200px;
    }
    
    .form-group-sm {
      flex: 1;
      min-width: 100px;
    }
    
    .form-group-btn {
      flex: 0 0 auto;
    }
    
    .form-row .form-group {
      margin-bottom: 0;
    }
    
    .form-row .form-label {
      font-size: 12px;
      margin-bottom: 4px;
    }
    
    .form-row .form-control {
      padding: 10px;
      font-size: 14px;
    }
    
    .btn-delete {
      background: none;
      border: none;
      color: #f44336;
      cursor: pointer;
      font-size: 16px;
      padding: 4px 8px;
    }
    
    .btn-delete:hover {
      background: #ffebee;
      border-radius: 4px;
    }
    
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
      }
      
      .form-group-flex,
      .form-group-sm,
      .form-group-btn {
        flex: 1 1 100%;
        min-width: 100%;
      }
      
      .form-group-btn {
        margin-top: 8px;
      }
      
      .form-group-btn .btn {
        width: 100%;
      }
    }
  </style>
  <script src="js/api.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/detail.js"></script>

</body>
</html>
